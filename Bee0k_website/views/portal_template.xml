<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="frontend_layout" name="Main Frontend Layout" inherit_id="portal.frontend_layout">
        <xpath expr="//ul[@id='top_menu']" position="inside">
            <li class="nav-item divider" t-ignore="true" t-if="not user_id._is_public()"/>
                <li class="nav-item dropdown">
                    <div class="nav-link">
                        <button class="btn btn-sm btn-secondary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            <span t-esc="list(filter(lambda lg : lg[0] == lang, languages))[0][1].split('/').pop()"/>
                            <span class="caret ml4"/>
                        </button>
                        <div class="dropdown-menu" role="menu">
                            <t t-foreach="languages" t-as="lg">
                                <a t-att-href="url_for(request.httprequest.path + '?' + keep_query(), lang=lg[0])"
                                class="dropdown-item js_change_lang"
                                t-att-data-default-lang="(editable or translatable) and 'true' if website and lg[0] == website.default_lang_code else None"
                                t-att-data-lang="lg[0]">
                                    <t t-esc="lg[1].split('/').pop()"/>
                                </a>
                            </t>
                        </div>
                    </div>
                </li>
        </xpath>
    </template>
</odoo>
